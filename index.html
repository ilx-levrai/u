<body>
    <h1>Welcome to the Ranking Website</h1>
    <input type="text" id="username" placeholder="Enter your name" />
    <button onclick="submitName()">Submit Name</button>
    
    <h2>Ranking List</h2>
    <ul id="rankingList"></ul>

    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js"></script>
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyChj3URPFU7TVGyllTCSAPv6wmkMFG3fAw",
            authDomain: "ilx-s-database.firebaseapp.com",
            databaseURL: "https://ilx-s-database-default-rtdb.firebaseio.com",
            projectId: "ilx-s-database",
            storageBucket: "ilx-s-database.firebasestorage.app",
            messagingSenderId: "713475036724",
            appId: "1:713475036724:web:6bdb32636760bb2e509c61"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.getDatabase(app);

        // Function to submit a name to the ranking
        function submitName() {
            const username = document.getElementById('username').value.trim();
            if (username) {
                const newEntryRef = firebase.push(firebase.ref(db, 'rankings'));
                newEntryRef.set({
                    name: username,
                    timestamp: Date.now()
                })
                .then(() => {
                    alert(`${username} has been added to the ranking!`);
                    displayRankings(); // Refresh the ranking list
                })
                .catch((error) => console.error('Error adding name:', error));
            } else {
                alert('Please enter a valid name.');
            }
        }

        // Function to display the ranking list
        function displayRankings() {
            const rankingList = document.getElementById('rankingList');
            rankingList.innerHTML = ''; // Clear the list
            firebase.onValue(firebase.ref(db, 'rankings'), (snapshot) => {
                const data = snapshot.val();
                if (data) {
                    const sortedRankings = Object.values(data).sort((a, b) => a.timestamp - b.timestamp);
                    sortedRankings.forEach((entry, index) => {
                        const li = document.createElement('li');
                        li.textContent = `#${index + 1}: ${entry.name}`;
                        rankingList.appendChild(li);
                    });
                }
            });
        }

        // Initial display of rankings when the page loads
        displayRankings();
    </script>
</body>
